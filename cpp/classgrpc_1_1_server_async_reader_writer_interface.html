<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRPC C++: grpc::ServerAsyncReaderWriterInterface&lt; W, R &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRPC C++
   &#160;<span id="projectnumber">1.55.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegrpc.html">grpc</a></li><li class="navelem"><a class="el" href="classgrpc_1_1_server_async_reader_writer_interface.html">ServerAsyncReaderWriterInterface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">grpc::ServerAsyncReaderWriterInterface&lt; W, R &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Server-side interface for asynchronous bi-directional streaming.  
 <a href="classgrpc_1_1_server_async_reader_writer_interface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="grpcpp_2support_2async__stream_8h_source.html">async_stream.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae63d347d413c401b1e976f165efde50b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1_server_async_reader_writer_interface.html#ae63d347d413c401b1e976f165efde50b">Finish</a> (const <a class="el" href="classgrpc_1_1_status.html">grpc::Status</a> &amp;status, void *tag)=0</td></tr>
<tr class="memdesc:ae63d347d413c401b1e976f165efde50b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the stream is to be finished with a certain status code.  <a href="classgrpc_1_1_server_async_reader_writer_interface.html#ae63d347d413c401b1e976f165efde50b">More...</a><br /></td></tr>
<tr class="separator:ae63d347d413c401b1e976f165efde50b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a174e5314d443a9282438badf9bb21244"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1_server_async_reader_writer_interface.html#a174e5314d443a9282438badf9bb21244">WriteAndFinish</a> (const W &amp;msg, <a class="el" href="classgrpc_1_1_write_options.html">grpc::WriteOptions</a> options, const <a class="el" href="classgrpc_1_1_status.html">grpc::Status</a> &amp;status, void *tag)=0</td></tr>
<tr class="memdesc:a174e5314d443a9282438badf9bb21244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the writing of <em>msg</em> and coalesce it with trailing metadata which contains <em>status</em>, using <a class="el" href="classgrpc_1_1_write_options.html" title="Per-message write options.">WriteOptions</a> options with identifying tag <em>tag</em>.  <a href="classgrpc_1_1_server_async_reader_writer_interface.html#a174e5314d443a9282438badf9bb21244">More...</a><br /></td></tr>
<tr class="separator:a174e5314d443a9282438badf9bb21244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgrpc_1_1internal_1_1_server_async_streaming_interface.html">grpc::internal::ServerAsyncStreamingInterface</a></td></tr>
<tr class="memitem:aeace2295f3792ce24975361c300d641a inherit pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_server_async_streaming_interface.html#aeace2295f3792ce24975361c300d641a">~ServerAsyncStreamingInterface</a> ()</td></tr>
<tr class="separator:aeace2295f3792ce24975361c300d641a inherit pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55759faf2283db8bf716183881efe01 inherit pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_server_async_streaming_interface.html#ac55759faf2283db8bf716183881efe01">SendInitialMetadata</a> (void *tag)=0</td></tr>
<tr class="memdesc:ac55759faf2283db8bf716183881efe01 inherit pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request notification of the sending of initial metadata to the client.  <a href="classgrpc_1_1internal_1_1_server_async_streaming_interface.html#ac55759faf2283db8bf716183881efe01">More...</a><br /></td></tr>
<tr class="separator:ac55759faf2283db8bf716183881efe01 inherit pub_methods_classgrpc_1_1internal_1_1_server_async_streaming_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgrpc_1_1internal_1_1_async_writer_interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgrpc_1_1internal_1_1_async_writer_interface.html">grpc::internal::AsyncWriterInterface&lt; W &gt;</a></td></tr>
<tr class="memitem:a8ad846091252c112c4db0b41965e5a4c inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_async_writer_interface.html#a8ad846091252c112c4db0b41965e5a4c">~AsyncWriterInterface</a> ()</td></tr>
<tr class="separator:a8ad846091252c112c4db0b41965e5a4c inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61e21fdfef0a4fb34f595bef767e6a8 inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_async_writer_interface.html#aa61e21fdfef0a4fb34f595bef767e6a8">Write</a> (const W &amp;msg, void *tag)=0</td></tr>
<tr class="memdesc:aa61e21fdfef0a4fb34f595bef767e6a8 inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the writing of <em>msg</em> with identifying tag <em>tag</em>.  <a href="classgrpc_1_1internal_1_1_async_writer_interface.html#aa61e21fdfef0a4fb34f595bef767e6a8">More...</a><br /></td></tr>
<tr class="separator:aa61e21fdfef0a4fb34f595bef767e6a8 inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f8532dfbd6c82c7d1fed5bc6e79d79 inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_async_writer_interface.html#a03f8532dfbd6c82c7d1fed5bc6e79d79">Write</a> (const W &amp;msg, <a class="el" href="classgrpc_1_1_write_options.html">grpc::WriteOptions</a> options, void *tag)=0</td></tr>
<tr class="memdesc:a03f8532dfbd6c82c7d1fed5bc6e79d79 inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the writing of <em>msg</em> using <a class="el" href="classgrpc_1_1_write_options.html" title="Per-message write options.">WriteOptions</a> <em>options</em> with identifying tag <em>tag</em>.  <a href="classgrpc_1_1internal_1_1_async_writer_interface.html#a03f8532dfbd6c82c7d1fed5bc6e79d79">More...</a><br /></td></tr>
<tr class="separator:a03f8532dfbd6c82c7d1fed5bc6e79d79 inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587a753da8313124338ec82d7f4c6e1e inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_async_writer_interface.html#a587a753da8313124338ec82d7f4c6e1e">WriteLast</a> (const W &amp;msg, <a class="el" href="classgrpc_1_1_write_options.html">grpc::WriteOptions</a> options, void *tag)</td></tr>
<tr class="memdesc:a587a753da8313124338ec82d7f4c6e1e inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the writing of <em>msg</em> and coalesce it with the writing of trailing metadata, using <a class="el" href="classgrpc_1_1_write_options.html" title="Per-message write options.">WriteOptions</a> <em>options</em> with identifying tag <em>tag</em>.  <a href="classgrpc_1_1internal_1_1_async_writer_interface.html#a587a753da8313124338ec82d7f4c6e1e">More...</a><br /></td></tr>
<tr class="separator:a587a753da8313124338ec82d7f4c6e1e inherit pub_methods_classgrpc_1_1internal_1_1_async_writer_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgrpc_1_1internal_1_1_async_reader_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgrpc_1_1internal_1_1_async_reader_interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgrpc_1_1internal_1_1_async_reader_interface.html">grpc::internal::AsyncReaderInterface&lt; R &gt;</a></td></tr>
<tr class="memitem:a18fe4235232864c8770a562cc2aa1f3c inherit pub_methods_classgrpc_1_1internal_1_1_async_reader_interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_async_reader_interface.html#a18fe4235232864c8770a562cc2aa1f3c">~AsyncReaderInterface</a> ()</td></tr>
<tr class="separator:a18fe4235232864c8770a562cc2aa1f3c inherit pub_methods_classgrpc_1_1internal_1_1_async_reader_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf87c602036d69158950b7299d0aae70 inherit pub_methods_classgrpc_1_1internal_1_1_async_reader_interface"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc_1_1internal_1_1_async_reader_interface.html#adf87c602036d69158950b7299d0aae70">Read</a> (R *msg, void *tag)=0</td></tr>
<tr class="memdesc:adf87c602036d69158950b7299d0aae70 inherit pub_methods_classgrpc_1_1internal_1_1_async_reader_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a message of type <em>R</em> into <em>msg</em>.  <a href="classgrpc_1_1internal_1_1_async_reader_interface.html#adf87c602036d69158950b7299d0aae70">More...</a><br /></td></tr>
<tr class="separator:adf87c602036d69158950b7299d0aae70 inherit pub_methods_classgrpc_1_1internal_1_1_async_reader_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class W, class R&gt;<br />
class grpc::ServerAsyncReaderWriterInterface&lt; W, R &gt;</h3>

<p>Server-side interface for asynchronous bi-directional streaming. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae63d347d413c401b1e976f165efde50b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63d347d413c401b1e976f165efde50b">&#9670;&nbsp;</a></span>Finish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class W , class R &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classgrpc_1_1_server_async_reader_writer_interface.html">grpc::ServerAsyncReaderWriterInterface</a>&lt; W, R &gt;::Finish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgrpc_1_1_status.html">grpc::Status</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate that the stream is to be finished with a certain status code. </p>
<p>Request notification for when the server has sent the appropriate signals to the client to end the call. Should not be used concurrently with other operations.</p>
<p>It is appropriate to call this method when either:</p><ul>
<li>all messages from the client have been received (either known implicitly, or explicitly because a previous <em>AsyncReaderInterface::Read</em> operation with a non-ok result (e.g., cq-&gt;Next(&amp;read_tag, &amp;ok) filled in 'ok' with 'false'.</li>
<li>it is desired to end the call early with some non-OK status code.</li>
</ul>
<p>This operation will end when the server has finished sending out initial metadata (if not sent already), response message, and status, or if some failure occurred when trying to do so.</p>
<p>gRPC doesn't take ownership or a reference to <em>status</em>, so it is safe to to deallocate once Finish returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>Tag identifying this request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>To be sent to the client as the result of this call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a174e5314d443a9282438badf9bb21244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a174e5314d443a9282438badf9bb21244">&#9670;&nbsp;</a></span>WriteAndFinish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class W , class R &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classgrpc_1_1_server_async_reader_writer_interface.html">grpc::ServerAsyncReaderWriterInterface</a>&lt; W, R &gt;::WriteAndFinish </td>
          <td>(</td>
          <td class="paramtype">const W &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgrpc_1_1_write_options.html">grpc::WriteOptions</a>&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgrpc_1_1_status.html">grpc::Status</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request the writing of <em>msg</em> and coalesce it with trailing metadata which contains <em>status</em>, using <a class="el" href="classgrpc_1_1_write_options.html" title="Per-message write options.">WriteOptions</a> options with identifying tag <em>tag</em>. </p>
<p>WriteAndFinish is equivalent of performing WriteLast and Finish in a single step.</p>
<p>gRPC doesn't take ownership or a reference to <em>msg</em> and <em>status</em>, so it is safe to deallocate once WriteAndFinish returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The message to be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>The <a class="el" href="classgrpc_1_1_write_options.html" title="Per-message write options.">WriteOptions</a> to be used to write this message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>The <a class="el" href="classgrpc_1_1_status.html" title="Did it work? If it didn&#39;t, why?">Status</a> that server returns to client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>The tag identifying the operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/grpcpp/support/<a class="el" href="grpcpp_2support_2async__stream_8h_source.html">async_stream.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 19 2023 06:26:58 for GRPC C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
